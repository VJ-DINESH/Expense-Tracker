<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student List</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
</head>
<body>
    <div class="container">
        <br>
        <div class="row">
            <div class="col-sm-6">
                <h3>Student List</h3>
            </div>
            <div class="col-sm-6">
                <a href="./student-add" class="btn btn-primary pull-right">Add Student</a>
            </div>
        </div>
        <% if(student_list.length > 0) { %>
            <table class="table table-bordered table-striped">
                <thead class="bg-success text-white">
                    <th>S.No</th>
                    <th>Name</th>
                    <th>Registration Number</th>
                    <th>Date of Birth</th>
                    <th>Phone</th>
                    <th>Email</th>
               
                    <th>Gender</th>
                    <th>Address</th>
                   
                    <th>Action</th>
                </thead>
                <% student_list.forEach(function(student, index) { %>
                    <tr>
                        <td><%= index + 1 %></td>
                        <td><%= student.name %></td>
                        <td><%= student.regno %></td>
                        <td>
                            <% 
                                var dob = new Date(student.dob);

                                var day = dob.getDate();
                                var month = dob.getMonth() + 1; 
                                var year = dob.getFullYear();

                                var formattedDate = (day < 10 ? '0' : '') + day + '-' + (month < 10 ? '0' : '') + month + '-' + year;
                            %>
                            <%= formattedDate %>
                        </td>
                        <td><%= student.phone %></td>
                        <td><%= student.email %></td>
                      
                      
                        <td><%= student.gender %></td>
                        <td><%= student.address %></td>
                        
                        <td>
                            <a href="./student-edit/<%= student.id %>" class="btn btn-warning">Edit</a>
                            <a href="./delete-student/<%= student.id %>" class="btn btn-danger">Delete</a>
                        </td>
                    </tr>
                <% }); %>
            </table>
        <% } else { %>
            <p>No student records found.</p>
        <% } %>
    </div>
</body>
</html>
